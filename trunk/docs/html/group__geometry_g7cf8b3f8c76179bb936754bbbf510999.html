<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Genesting: polygonholes_volumen</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generado por Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Página&nbsp;principal</span></a></li>
    <li><a href="modules.html"><span>Módulos</span></a></li>
    <li><a href="classes.html"><span>Estructuras&nbsp;de&nbsp;Datos</span></a></li>
    <li><a href="files.html"><span>Archivos</span></a></li>
    <li><a href="pages.html"><span>Páginas&nbsp;relacionadas</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="group__geometry.html">Geometria</a></div>
<table cellspacing="0" cellpadding="0" border="0">
  <tr>
   <td valign="top">
      <div class="navtab">
        <table>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_gbb4d6a1464226fe9b7c0d80348e5eb98.html#gbb4d6a1464226fe9b7c0d80348e5eb98">line</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_ga27fbafb04a36a60af7bd5cafbdfd412.html#ga27fbafb04a36a60af7bd5cafbdfd412">line_equal</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_g95f804c79e71c1ca62453b6f0123e307.html#g95f804c79e71c1ca62453b6f0123e307">line_intersection</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_g68d4dad9b8e742b0d63affc853f80391.html#g68d4dad9b8e742b0d63affc853f80391">line_ispoint</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_g37e9de632d1eb76ff7dcd3d8172add7d.html#g37e9de632d1eb76ff7dcd3d8172add7d">point</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_gb97527165a510655ee37cd3ccfa8d932.html#gb97527165a510655ee37cd3ccfa8d932">point_cross</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_ga7ae8d919209fea43e8a61215398bbbe.html#ga7ae8d919209fea43e8a61215398bbbe">point_dot</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_g9169f21a34d344b356c44948943e99cc.html#g9169f21a34d344b356c44948943e99cc">polygon</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_gcfbc9e7772d80361768bc0b65cebbca1.html#gcfbc9e7772d80361768bc0b65cebbca1">polygon_area</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_ge39fef354e4411678ec081c197b29825.html#ge39fef354e4411678ec081c197b29825">polygon_center</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_g1137695e6ed0a9b25685f8bf3ccdb45f.html#g1137695e6ed0a9b25685f8bf3ccdb45f">polygon_holes</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_g137ef6f552a0a04c5ae0493690088f3f.html#g137ef6f552a0a04c5ae0493690088f3f">polygon_minbox</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_g2be6101a257ea8896e61e93d14b22b89.html#g2be6101a257ea8896e61e93d14b22b89">polygon_overlapping</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_geab0a1d6da7c44ae49494958bb885504.html#geab0a1d6da7c44ae49494958bb885504">polygon_pointin</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_g95276abee7240f116afaf80a3e1f23c4.html#g95276abee7240f116afaf80a3e1f23c4">polygon_rotate</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_g7538c2bf0d1e8acc0cfc055b6bf3a96b.html#g7538c2bf0d1e8acc0cfc055b6bf3a96b">polygon_translate</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_g380cdcfa6caf51828c8d06f4518a4084.html#g380cdcfa6caf51828c8d06f4518a4084">polygonholes_area</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_g35a6dd45f6d0cbed26ef8a69ed34a2e9.html#g35a6dd45f6d0cbed26ef8a69ed34a2e9">polygonholes_pointin</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_g139317720b027c782db9424256ba2c2d.html#g139317720b027c782db9424256ba2c2d">polygonholes_pointinhole</a></td></tr>
          <tr><td class="navtab"><a class="qindex" href="group__geometry_g496bae87588cb5710ced80f713da98ad.html#g496bae87588cb5710ced80f713da98ad">polygonholes_polygonin</a></td></tr>
          <tr><td class="navtab"><a class="qindexHL" href="group__geometry_g7cf8b3f8c76179bb936754bbbf510999.html#g7cf8b3f8c76179bb936754bbbf510999">polygonholes_volumen</a></td></tr>
        </table>
      </div>
   </td>
   <td valign="top">
<a class="anchor" name="g7cf8b3f8c76179bb936754bbbf510999"></a><!-- doxytag: member="polygon_holes.h::polygonholes_volumen" ref="g7cf8b3f8c76179bb936754bbbf510999" args="(polygon_holes *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float polygonholes_volumen           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__polygon__holes.html">polygon_holes</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calcula el volumen generado por el poligono con huecos, definiendo asi el poligono como una figura tridimensional de la siguiente manera, la base del solido esta conformada por el poligono con huecos y la altura del solido en cada punto es igual a la distancia del punto a uno de los bordes.<p>
El metodo para calcular el volumen se basa en encerrar el poligono en un rectangulo que lo contenga, y sucesivamente partir el poligono en dos subrectangulos respecto al lado mas largo calculando el volumen de cada uno de los subrectangulos y sumando el valor y esto se hace de manera recursiva.<p>
<ul>
<li>Cuando el subrectangulo esta completamente fuera del poligono no calculamos el volumen y regresamos un valor de 0</li></ul>
<p>
<ul>
<li>Cuando el subrectangulo tiene un area muy pequena definida por un da se calcula el centro del subrectangulo y se verifica que este dentro del poligono, si este es el caso, entonces se devuelve el valor del area multiplicada por la distancia del punto medio al borde, si el punto medio es 0 se devuelve 0.</li></ul>
<p>
<ul>
<li>Cuando el subrectangulo esta dentro del poligono y los vertices de este tienen su menor distancia respecto a un mismo segmento de recta se calcula el volumen del poliedro formado como el promedio de las distancias de los vertices multiplicados por el area del subrectangulo.</li></ul>
<p>
<ul>
<li>Cuando el subrectangulo esta dentro del poligono y los vertices de este tienen su menor distancia respecto a un mismo punto, que se da en el caso de los poligonos concavos, entonces se calcula el volumen como el volumen formado por la interseccion entre el cono que genera el punto y el subrectangulo, la formula que da este volumen es: <img class="formulaInl" alt="$\int_{a}^{b}\int_{c}^{d}\sqrt{((x-h)^2 + (y-k)^2)} dx dy$" src="form_1.png"> donde <img class="formulaInl" alt="$(h,k)$" src="form_2.png"> son las coordenadas del punto con respecto al que se toma la distancia, <img class="formulaInl" alt="$(a,b)$" src="form_3.png"> son los valores en que se desplaza <img class="formulaInl" alt="$y$" src="form_4.png">, <img class="formulaInl" alt="$(c,d)$" src="form_5.png"> son los valores en que se desplaza <img class="formulaInl" alt="$x$" src="form_6.png">.</li></ul>
<p>
Esta funcion evalua menos puntos si en ves de dividir el rectangulo en 2 segun su lado mas largo, se divide en 4 partes iguales, pero esta aproximacion puede tener problemas cuando la proporcion del los lados del subrectangulo es muy grande.<p>
<dl compact><dt><b>Parámetros:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>p</em>&nbsp;</td><td>Poligono simple con huecos en 2 dimensiones </td></tr>
  </table>
</dl>
<dl compact><dt><b>Devuelve:</b></dt><dd>Volumen generado </dd></dl>

<p>
<dl compact><dt><b><a class="el" href="bug.html#_bug000001">Bug:</a></b></dt><dd>Esta funcion para calcular el volument de un rectangulo que intersecta un cono tiene valores indeterminados en algunos segmentos del problema, es posible que este error aparesca solo en algunos casos, pero hay que examinar mas la funcion. </dd></dl>

<p>
Definición en la línea <a class="el" href="polygon__holes_8c-source.html#l00086">86</a> del archivo <a class="el" href="polygon__holes_8c-source.html">polygon_holes.c</a>.<div class="fragment"><pre class="fragment"><a name="l00087"></a>00087 {
<a name="l00088"></a>00088 <span class="preprocessor">#if graphics</span>
<a name="l00089"></a>00089 <span class="preprocessor"></span>    <span class="keywordtype">void</span> draw_polygon(<a class="code" href="struct__polygon.html">polygon</a> *p)
<a name="l00090"></a>00090     {
<a name="l00091"></a>00091         <span class="keywordtype">int</span> i;
<a name="l00092"></a>00092         <span class="keywordflow">for</span> (i=0;i&lt;p-&gt;nvertices;i++)
<a name="l00093"></a>00093         {
<a name="l00094"></a>00094             <a class="code" href="graphics_8c_a4f2f5f853228f62323d3c4d81c34a13.html#a4f2f5f853228f62323d3c4d81c34a13">draw_line</a>(p-&gt;v[i].x,p-&gt;v[i].y,p-&gt;v[(i+1)%p-&gt;nvertices].x,p-&gt;v[(i+1)%p-&gt;nvertices].y);
<a name="l00095"></a>00095         }
<a name="l00096"></a>00096     }
<a name="l00097"></a>00097 <span class="preprocessor">#endif</span>
<a name="l00098"></a>00098 <span class="preprocessor"></span>
<a name="l00099"></a>00099     <span class="keywordtype">float</span> polygonholes_volumen_box( <a class="code" href="struct__polygon__holes.html">polygon_holes</a> *p,
<a name="l00100"></a>00100                                     <span class="keywordtype">float</span> minx,
<a name="l00101"></a>00101                                     <span class="keywordtype">float</span> miny,
<a name="l00102"></a>00102                                     <span class="keywordtype">float</span> maxx,
<a name="l00103"></a>00103                                     <span class="keywordtype">float</span> maxy)
<a name="l00104"></a>00104     {
<a name="l00105"></a>00105 
<a name="l00106"></a>00106         <span class="keywordtype">float</span> vol=0;
<a name="l00107"></a>00107         <span class="keywordtype">float</span> da;
<a name="l00108"></a>00108 
<a name="l00109"></a>00109         <a class="code" href="struct__polygon.html">polygon</a> rec;
<a name="l00110"></a>00110         <a class="code" href="struct__point.html">point</a> q[4];
<a name="l00111"></a>00111 
<a name="l00112"></a>00112         q[0].<a class="code" href="struct__point_767ac72154b321228732c3dad513eb27.html#767ac72154b321228732c3dad513eb27">x</a> = minx;
<a name="l00113"></a>00113         q[0].<a class="code" href="struct__point_8959fb193a9a1f2cb450a79d3dfc5b0e.html#8959fb193a9a1f2cb450a79d3dfc5b0e">y</a> = miny;
<a name="l00114"></a>00114 
<a name="l00115"></a>00115         q[1].<a class="code" href="struct__point_767ac72154b321228732c3dad513eb27.html#767ac72154b321228732c3dad513eb27">x</a> = maxx;
<a name="l00116"></a>00116         q[1].<a class="code" href="struct__point_8959fb193a9a1f2cb450a79d3dfc5b0e.html#8959fb193a9a1f2cb450a79d3dfc5b0e">y</a> = miny;
<a name="l00117"></a>00117 
<a name="l00118"></a>00118         q[2].<a class="code" href="struct__point_767ac72154b321228732c3dad513eb27.html#767ac72154b321228732c3dad513eb27">x</a> = maxx;
<a name="l00119"></a>00119         q[2].<a class="code" href="struct__point_8959fb193a9a1f2cb450a79d3dfc5b0e.html#8959fb193a9a1f2cb450a79d3dfc5b0e">y</a> = maxy;
<a name="l00120"></a>00120 
<a name="l00121"></a>00121         q[3].<a class="code" href="struct__point_767ac72154b321228732c3dad513eb27.html#767ac72154b321228732c3dad513eb27">x</a> = minx;
<a name="l00122"></a>00122         q[3].<a class="code" href="struct__point_8959fb193a9a1f2cb450a79d3dfc5b0e.html#8959fb193a9a1f2cb450a79d3dfc5b0e">y</a> = maxy;
<a name="l00123"></a>00123 
<a name="l00124"></a>00124         rec.<a class="code" href="struct__polygon_32ccf29956c65625eddb9f4c75ce0f0c.html#32ccf29956c65625eddb9f4c75ce0f0c">v</a> =(<a class="code" href="struct__point.html">point</a> *) &amp;q;
<a name="l00125"></a>00125         rec.<a class="code" href="struct__polygon_32b823ec27d32ee03ab132c173d3672a.html#32b823ec27d32ee03ab132c173d3672a">nvertices</a> = 4;
<a name="l00126"></a>00126 
<a name="l00127"></a>00127         da = <a class="code" href="group__geometry_gcfbc9e7772d80361768bc0b65cebbca1.html#gcfbc9e7772d80361768bc0b65cebbca1">polygon_area</a>(&amp;rec);
<a name="l00128"></a>00128 
<a name="l00129"></a>00129 
<a name="l00130"></a>00130         <span class="keywordflow">if</span> (!<a class="code" href="group__geometry_g2be6101a257ea8896e61e93d14b22b89.html#g2be6101a257ea8896e61e93d14b22b89">polygon_overlapping</a>(p-&gt;<a class="code" href="struct__polygon__holes_90635c34b3613c8cf8cdda5bebe99638.html#90635c34b3613c8cf8cdda5bebe99638">p</a>, &amp;rec)) <span class="comment">//OK</span>
<a name="l00131"></a>00131         {
<a name="l00132"></a>00132             vol = 0;
<a name="l00133"></a>00133 <span class="preprocessor">#if graphics</span>
<a name="l00134"></a>00134 <span class="preprocessor"></span>
<a name="l00135"></a>00135             <a class="code" href="graphics_8c_e3919e2797a81eb7088a6b6f6b33bea7.html#e3919e2797a81eb7088a6b6f6b33bea7">draw_rect</a>(minx, miny, maxx, maxy,255,255,255);
<a name="l00136"></a>00136 <span class="preprocessor">#endif</span>
<a name="l00137"></a>00137 <span class="preprocessor"></span>
<a name="l00138"></a>00138         }
<a name="l00139"></a>00139         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (da &lt; <a class="code" href="graphics_8h_3fd2b1bcd7ddcf506237987ad780f495.html#3fd2b1bcd7ddcf506237987ad780f495">DELTA</a>) <span class="comment">// OK</span>
<a name="l00140"></a>00140         {
<a name="l00141"></a>00141             <a class="code" href="struct__point.html">point</a> pm;
<a name="l00142"></a>00142 
<a name="l00143"></a>00143             pm.<a class="code" href="struct__point_767ac72154b321228732c3dad513eb27.html#767ac72154b321228732c3dad513eb27">x</a>=minx+((maxx-minx)/2.0);
<a name="l00144"></a>00144             pm.y=miny+((maxy-miny)/2.0);
<a name="l00145"></a>00145 
<a name="l00146"></a>00146             <span class="keywordflow">if</span> (<a class="code" href="group__geometry_g35a6dd45f6d0cbed26ef8a69ed34a2e9.html#g35a6dd45f6d0cbed26ef8a69ed34a2e9">polygonholes_pointin</a>(p, &amp;pm))
<a name="l00147"></a>00147             {
<a name="l00148"></a>00148                 vol = da * <a class="code" href="group__distance_gc837f0084791f42936ade857a0cce3af.html#gc837f0084791f42936ade857a0cce3af">distance_pointpolygonholes</a>(&amp;pm, p,NULL);
<a name="l00149"></a>00149 <span class="preprocessor">#if graphics</span>
<a name="l00150"></a>00150 <span class="preprocessor"></span>
<a name="l00151"></a>00151                 <a class="code" href="graphics_8c_e3919e2797a81eb7088a6b6f6b33bea7.html#e3919e2797a81eb7088a6b6f6b33bea7">draw_rect</a>(minx, miny, maxx, maxy,128,128,128);
<a name="l00152"></a>00152 <span class="preprocessor">#endif</span>
<a name="l00153"></a>00153 <span class="preprocessor"></span>
<a name="l00154"></a>00154             }
<a name="l00155"></a>00155             <span class="keywordflow">else</span>
<a name="l00156"></a>00156             {
<a name="l00157"></a>00157                 vol = 0;
<a name="l00158"></a>00158 <span class="preprocessor">#if graphics</span>
<a name="l00159"></a>00159 <span class="preprocessor"></span>
<a name="l00160"></a>00160                 <a class="code" href="graphics_8c_e3919e2797a81eb7088a6b6f6b33bea7.html#e3919e2797a81eb7088a6b6f6b33bea7">draw_rect</a>(minx, miny, maxx, maxy,225,255,255);
<a name="l00161"></a>00161 <span class="preprocessor">#endif</span>
<a name="l00162"></a>00162 <span class="preprocessor"></span>
<a name="l00163"></a>00163             }
<a name="l00164"></a>00164         }
<a name="l00165"></a>00165         <span class="keywordflow">else</span>
<a name="l00166"></a>00166         {
<a name="l00167"></a>00167 
<a name="l00168"></a>00168             <span class="keywordtype">int</span> i;
<a name="l00169"></a>00169             <span class="keywordtype">float</span> dis[4];
<a name="l00170"></a>00170             <a class="code" href="struct__line.html">line</a> ref[4];
<a name="l00171"></a>00171             <span class="keywordflow">for</span> (i=0;i&lt;4;i++)
<a name="l00172"></a>00172             {
<a name="l00173"></a>00173                 dis[i]=<a class="code" href="group__distance_gc837f0084791f42936ade857a0cce3af.html#gc837f0084791f42936ade857a0cce3af">distance_pointpolygonholes</a>(&amp;q[i], p,&amp;ref[i]);
<a name="l00174"></a>00174             }
<a name="l00175"></a>00175 
<a name="l00176"></a>00176             <span class="keywordflow">if</span>( <a class="code" href="group__geometry_g496bae87588cb5710ced80f713da98ad.html#g496bae87588cb5710ced80f713da98ad">polygonholes_polygonin</a>(p, &amp;rec)
<a name="l00177"></a>00177                     &amp;&amp;
<a name="l00178"></a>00178                     (<a class="code" href="group__geometry_ga27fbafb04a36a60af7bd5cafbdfd412.html#ga27fbafb04a36a60af7bd5cafbdfd412">line_equal</a>(&amp;ref[0],&amp;ref[1]) &amp;&amp;
<a name="l00179"></a>00179                      <a class="code" href="group__geometry_ga27fbafb04a36a60af7bd5cafbdfd412.html#ga27fbafb04a36a60af7bd5cafbdfd412">line_equal</a>(&amp;ref[1],&amp;ref[2]) &amp;&amp;
<a name="l00180"></a>00180                      <a class="code" href="group__geometry_ga27fbafb04a36a60af7bd5cafbdfd412.html#ga27fbafb04a36a60af7bd5cafbdfd412">line_equal</a>(&amp;ref[2],&amp;ref[3]))
<a name="l00181"></a>00181 
<a name="l00182"></a>00182               ) <span class="comment">// OK</span>
<a name="l00183"></a>00183             {
<a name="l00184"></a>00184                 <span class="keywordflow">if</span> (<a class="code" href="group__geometry_g68d4dad9b8e742b0d63affc853f80391.html#g68d4dad9b8e742b0d63affc853f80391">line_ispoint</a>(&amp;ref[0]))<span class="comment">// Si es un punto entonces se utiliza la formula del cono</span>
<a name="l00185"></a>00185                 {
<a name="l00186"></a>00186                     <span class="keywordtype">double</span> a,b,c,d,h,k;
<a name="l00187"></a>00187                     c=minx;
<a name="l00188"></a>00188                     d=maxx;
<a name="l00189"></a>00189                     a=miny;
<a name="l00190"></a>00190                     b=maxy;
<a name="l00191"></a>00191                     h=ref[0].v1.x;
<a name="l00192"></a>00192                     k=ref[0].v1.y;<span class="comment"></span>
<a name="l00193"></a>00193 <span class="comment">                    /*!\bug</span>
<a name="l00194"></a>00194 <span class="comment">                    Esta funcion para calcular el volument de un rectangulo que intersecta un</span>
<a name="l00195"></a>00195 <span class="comment">                    cono tiene valores indeterminados en algunos segmentos del problema, es</span>
<a name="l00196"></a>00196 <span class="comment">                    posible que este error aparesca solo en algunos casos, pero hay que examinar</span>
<a name="l00197"></a>00197 <span class="comment">                    mas la funcion.</span>
<a name="l00198"></a>00198 <span class="comment">                    */</span>
<a name="l00199"></a>00199 
<a name="l00200"></a>00200                     vol = (2*a*c*sqrt(pow(-c + h,2) + pow(a - k,2))
<a name="l00201"></a>00201                            - 2*a*h*sqrt(pow(-c + h,2) + pow(a - k,2))
<a name="l00202"></a>00202                            - 2*a*d*sqrt(pow(-d + h,2) + pow(a - k,2))
<a name="l00203"></a>00203                            + 2*a*h*sqrt(pow(-d + h,2) + pow(a - k,2))
<a name="l00204"></a>00204                            - 2*b*c*sqrt(pow(-c + h,2) + pow(b - k,2))
<a name="l00205"></a>00205                            + 2*b*h*sqrt(pow(-c + h,2) + pow(b - k,2))
<a name="l00206"></a>00206                            + 2*b*d*sqrt(pow(-d + h,2) + pow(b - k,2))
<a name="l00207"></a>00207                            - 2*b*h*sqrt(pow(-d + h,2) + pow(b - k,2))
<a name="l00208"></a>00208                            - 2*c*k*sqrt(pow(-c + h,2) + pow(a - k,2))
<a name="l00209"></a>00209                            + 2*h*k*sqrt(pow(-c + h,2) + pow(a - k,2))
<a name="l00210"></a>00210                            + 2*d*k*sqrt(pow(-d + h,2) + pow(a - k,2))
<a name="l00211"></a>00211                            - 2*h*k*sqrt(pow(-d + h,2) + pow(a - k,2))
<a name="l00212"></a>00212                            + 2*c*k*sqrt(pow(-c + h,2) + pow(b - k,2))
<a name="l00213"></a>00213                            - 2*h*k*sqrt(pow(-c + h,2) + pow(b - k,2))
<a name="l00214"></a>00214                            - 2*d*k*sqrt(pow(-d + h,2) + pow(b - k,2))
<a name="l00215"></a>00215                            + 2*h*k*sqrt(pow(-d + h,2) + pow(b - k,2))
<a name="l00216"></a>00216                            - pow(a,3)*log(-c + h + sqrt(pow(-c + h,2) + pow(a - k,2)))
<a name="l00217"></a>00217                            + 3*pow(a,2)*k*log(-c + h + sqrt(pow(-c + h,2) + pow(a - k,2)))
<a name="l00218"></a>00218                            - 3*a*pow(k,2)*log(-c + h + sqrt(pow(-c + h,2) + pow(a - k,2)))
<a name="l00219"></a>00219                            + pow(k,3)*log(-c + h + sqrt(pow(-c + h,2) + pow(a - k,2)))
<a name="l00220"></a>00220                            + pow(a,3)*log(-d + h + sqrt(pow(-d + h,2) + pow(a - k,2)))
<a name="l00221"></a>00221                            - 3*pow(a,2)*k*log(-d + h + sqrt(pow(-d + h,2) + pow(a - k,2)))
<a name="l00222"></a>00222                            + 3*a*pow(k,2)*log(-d + h + sqrt(pow(-d + h,2) + pow(a - k,2)))
<a name="l00223"></a>00223                            - pow(k,3)*log(-d + h + sqrt(pow(-d + h,2) + pow(a - k,2)))
<a name="l00224"></a>00224                            + pow(b,3)*log(-c + h + sqrt(pow(-c + h,2) + pow(b - k,2)))
<a name="l00225"></a>00225                            - 3*pow(b,2)*k*log(-c + h + sqrt(pow(-c + h,2) + pow(b - k,2)))
<a name="l00226"></a>00226                            + 3*b*pow(k,2)*log(-c + h + sqrt(pow(-c + h,2) + pow(b - k,2)))
<a name="l00227"></a>00227                            - pow(k,3)*log(-c + h + sqrt(pow(-c + h,2) + pow(b - k,2)))
<a name="l00228"></a>00228                            - pow(b,3)*log(-d + h + sqrt(pow(-d + h,2) + pow(b - k,2)))
<a name="l00229"></a>00229                            + 3*pow(b,2)*k*log(-d + h + sqrt(pow(-d + h,2) + pow(b - k,2)))
<a name="l00230"></a>00230                            - 3*b*pow(k,2)*log(-d + h + sqrt(pow(-d + h,2) + pow(b - k,2)))
<a name="l00231"></a>00231                            + pow(k,3)*log(-d + h + sqrt(pow(-d + h,2) + pow(b - k,2)))
<a name="l00232"></a>00232                            + pow(c,3)*log(a + sqrt(pow(-c + h,2) + pow(a - k,2)) - k)
<a name="l00233"></a>00233                            - 3*pow(c,2)*h*log(a + sqrt(pow(-c + h,2) + pow(a - k,2)) - k)
<a name="l00234"></a>00234                            + 3*c*pow(h,2)*log(a + sqrt(pow(-c + h,2) + pow(a - k,2)) - k)
<a name="l00235"></a>00235                            - pow(h,3)*log(a + sqrt(pow(-c + h,2) + pow(a - k,2)) - k)
<a name="l00236"></a>00236                            - pow(d,3)*log(a + sqrt(pow(-d + h,2) + pow(a - k,2)) - k)
<a name="l00237"></a>00237                            + 3*pow(d,2)*h*log(a + sqrt(pow(-d + h,2) + pow(a - k,2)) - k)
<a name="l00238"></a>00238                            - 3*d*pow(h,2)*log(a + sqrt(pow(-d + h,2) + pow(a - k,2)) - k)
<a name="l00239"></a>00239                            + pow(h,3)*log(a + sqrt(pow(-d + h,2) + pow(a - k,2)) - k)
<a name="l00240"></a>00240                            - pow(c,3)*log(b + sqrt(pow(-c + h,2) + pow(b - k,2)) - k)
<a name="l00241"></a>00241                            + 3*pow(c,2)*h*log(b + sqrt(pow(-c + h,2) + pow(b - k,2)) - k)
<a name="l00242"></a>00242                            - 3*c*pow(h,2)*log(b + sqrt(pow(-c + h,2) + pow(b - k,2)) - k)
<a name="l00243"></a>00243                            + pow(h,3)*log(b + sqrt(pow(-c + h,2) + pow(b - k,2)) - k)
<a name="l00244"></a>00244                            + pow(d,3)*log(b + sqrt(pow(-d + h,2) + pow(b - k,2)) - k)
<a name="l00245"></a>00245                            - 3*pow(d,2)*h*log(b + sqrt(pow(-d + h,2) + pow(b - k,2)) - k)
<a name="l00246"></a>00246                            + 3*d*pow(h,2)*log(b + sqrt(pow(-d + h,2) + pow(b - k,2)) - k)
<a name="l00247"></a>00247                            - pow(h,3)*log(b + sqrt(pow(-d + h,2) + pow(b - k,2)) - k))/6;
<a name="l00248"></a>00248 <span class="preprocessor">#if graphics</span>
<a name="l00249"></a>00249 <span class="preprocessor"></span>
<a name="l00250"></a>00250                     <a class="code" href="graphics_8c_e3919e2797a81eb7088a6b6f6b33bea7.html#e3919e2797a81eb7088a6b6f6b33bea7">draw_rect</a>(minx, miny, maxx, maxy,0,128,0);
<a name="l00251"></a>00251 <span class="preprocessor">#endif</span>
<a name="l00252"></a>00252 <span class="preprocessor"></span>
<a name="l00253"></a>00253                 }
<a name="l00254"></a>00254                 <span class="keywordflow">else</span> <span class="comment">// Si es una linea se utiliza la formula de la cuna</span>
<a name="l00255"></a>00255                 {
<a name="l00256"></a>00256                     vol = (dis[0]+dis[1]+dis[2]+dis[3])/4.0 * da;
<a name="l00257"></a>00257 <span class="preprocessor">#if graphics</span>
<a name="l00258"></a>00258 <span class="preprocessor"></span>
<a name="l00259"></a>00259                     <a class="code" href="graphics_8c_e3919e2797a81eb7088a6b6f6b33bea7.html#e3919e2797a81eb7088a6b6f6b33bea7">draw_rect</a>(minx, miny, maxx, maxy,0,0,128);
<a name="l00260"></a>00260 <span class="preprocessor">#endif</span>
<a name="l00261"></a>00261 <span class="preprocessor"></span>
<a name="l00262"></a>00262                 }
<a name="l00263"></a>00263             }
<a name="l00264"></a>00264             <span class="keywordflow">else</span>
<a name="l00265"></a>00265             {
<a name="l00266"></a>00266                 <span class="keywordflow">if</span> (!(
<a name="l00267"></a>00267                             <a class="code" href="group__geometry_g139317720b027c782db9424256ba2c2d.html#g139317720b027c782db9424256ba2c2d">polygonholes_pointinhole</a>(p, &amp;q[0]) &amp;&amp;
<a name="l00268"></a>00268                             <a class="code" href="group__geometry_g139317720b027c782db9424256ba2c2d.html#g139317720b027c782db9424256ba2c2d">polygonholes_pointinhole</a>(p, &amp;q[1]) &amp;&amp;
<a name="l00269"></a>00269                             <a class="code" href="group__geometry_g139317720b027c782db9424256ba2c2d.html#g139317720b027c782db9424256ba2c2d">polygonholes_pointinhole</a>(p, &amp;q[2]) &amp;&amp;
<a name="l00270"></a>00270                             <a class="code" href="group__geometry_g139317720b027c782db9424256ba2c2d.html#g139317720b027c782db9424256ba2c2d">polygonholes_pointinhole</a>(p, &amp;q[3])
<a name="l00271"></a>00271                         )) <span class="comment">// el poligono esta dentro de p pero no en un hueco</span>
<a name="l00272"></a>00272                 {
<a name="l00273"></a>00273                     <span class="comment">//Opcion de corte 1</span>
<a name="l00274"></a>00274                     <span class="comment">/*</span>
<a name="l00275"></a>00275 <span class="comment">                                        vol+= polygonholes_volumen_box(p, minx, miny, (minx+maxx)/2.0, (miny+maxy)/2.0);</span>
<a name="l00276"></a>00276 <span class="comment">                                        vol+= polygonholes_volumen_box(p, (minx+maxx)/2.0, miny, maxx, (miny+maxy)/2.0);</span>
<a name="l00277"></a>00277 <span class="comment">                                        vol+= polygonholes_volumen_box(p, minx, (miny+maxy)/2.0, (minx+maxx)/2.0, maxy);</span>
<a name="l00278"></a>00278 <span class="comment">                                        vol+= polygonholes_volumen_box(p, (minx+maxx)/2.0, (miny+maxy)/2.0, maxx, maxy);</span>
<a name="l00279"></a>00279 <span class="comment">                    */</span>
<a name="l00280"></a>00280 
<a name="l00281"></a>00281                     <span class="keywordflow">if</span> (maxx-minx &gt; maxy-miny)
<a name="l00282"></a>00282                     {
<a name="l00283"></a>00283                         vol+= polygonholes_volumen_box(p, minx, miny, (minx+maxx)/2.0, maxy);
<a name="l00284"></a>00284                         vol+= polygonholes_volumen_box(p, (minx+maxx)/2.0, miny, maxx, maxy);
<a name="l00285"></a>00285                     }
<a name="l00286"></a>00286                     <span class="keywordflow">else</span>
<a name="l00287"></a>00287                     {
<a name="l00288"></a>00288                         vol+= polygonholes_volumen_box(p, minx, miny, maxx, (miny+maxy)/2.0);
<a name="l00289"></a>00289                         vol+= polygonholes_volumen_box(p, minx, (miny+maxy)/2.0, maxx, maxy);
<a name="l00290"></a>00290                     }
<a name="l00291"></a>00291 
<a name="l00292"></a>00292                 }
<a name="l00293"></a>00293 <span class="preprocessor">#if graphics</span>
<a name="l00294"></a>00294 <span class="preprocessor"></span>                <span class="keywordflow">else</span>
<a name="l00295"></a>00295                 {
<a name="l00296"></a>00296                     <a class="code" href="graphics_8c_e3919e2797a81eb7088a6b6f6b33bea7.html#e3919e2797a81eb7088a6b6f6b33bea7">draw_rect</a>(minx, miny, maxx, maxy,0,0,255);
<a name="l00297"></a>00297                 }
<a name="l00298"></a>00298 <span class="preprocessor">#endif</span>
<a name="l00299"></a>00299 <span class="preprocessor"></span>
<a name="l00300"></a>00300             }
<a name="l00301"></a>00301         }
<a name="l00302"></a>00302         <span class="keywordflow">if</span> (isnan(vol))
<a name="l00303"></a>00303         {
<a name="l00304"></a>00304 <span class="preprocessor">#if graphics</span>
<a name="l00305"></a>00305 <span class="preprocessor"></span>            <a class="code" href="graphics_8c_e3919e2797a81eb7088a6b6f6b33bea7.html#e3919e2797a81eb7088a6b6f6b33bea7">draw_rect</a>(minx, miny, maxx, maxy,255,0,0);
<a name="l00306"></a>00306 <span class="preprocessor">#endif</span>
<a name="l00307"></a>00307 <span class="preprocessor"></span>
<a name="l00308"></a>00308             fprintf(stderr,<span class="stringliteral">"Error: (%f, %f) (%f, %f)\n"</span>,minx,miny,maxx,maxy);
<a name="l00309"></a>00309             vol=0;
<a name="l00310"></a>00310         }
<a name="l00311"></a>00311         <span class="keywordflow">return</span> vol;
<a name="l00312"></a>00312     }
<a name="l00313"></a>00313 
<a name="l00314"></a>00314     <span class="keywordtype">float</span> minx, miny, maxx, maxy;
<a name="l00315"></a>00315     <a class="code" href="group__geometry_g137ef6f552a0a04c5ae0493690088f3f.html#g137ef6f552a0a04c5ae0493690088f3f">polygon_minbox</a>(p-&gt;p, &amp;minx, &amp;miny, &amp;maxx, &amp;maxy);
<a name="l00316"></a>00316 
<a name="l00317"></a>00317 <span class="preprocessor">#if graphics</span>
<a name="l00318"></a>00318 <span class="preprocessor"></span>    <a class="code" href="graphics_8c_9a7e11a2a03b0db3ab57985098c3f8fe.html#9a7e11a2a03b0db3ab57985098c3f8fe">getscreen</a>();
<a name="l00319"></a>00319     <a class="code" href="graphics_8c_ff4bc17c602603d120756f52e18ebb96.html#ff4bc17c602603d120756f52e18ebb96">clearscreen</a>();
<a name="l00320"></a>00320     draw_polygon(p-&gt;p);
<a name="l00321"></a>00321 
<a name="l00322"></a>00322     {
<a name="l00323"></a>00323         <span class="keywordtype">int</span> j;
<a name="l00324"></a>00324         <span class="keywordflow">for</span> (j=0;j&lt;p-&gt;nholes;j++)
<a name="l00325"></a>00325         {
<a name="l00326"></a>00326             draw_polygon(&amp;(p-&gt;h[j]));
<a name="l00327"></a>00327         }
<a name="l00328"></a>00328     }
<a name="l00329"></a>00329     <a class="code" href="graphics_8c_7a2327678651d3939af5eec9503333e8.html#7a2327678651d3939af5eec9503333e8">relscreen</a>();
<a name="l00330"></a>00330 <span class="preprocessor">#endif</span>
<a name="l00331"></a>00331 <span class="preprocessor"></span>
<a name="l00332"></a>00332     <span class="keywordflow">return</span> polygonholes_volumen_box(p,minx,miny,maxx,maxy);
<a name="l00333"></a>00333 }
</pre></div>
<p>

<p>
Gráfico de llamadas para esta función:<p><center><img src="group__geometry_g7cf8b3f8c76179bb936754bbbf510999_g7cf8b3f8c76179bb936754bbbf510999_cgraph.png" border="0" usemap="#group__geometry_g7cf8b3f8c76179bb936754bbbf510999_g7cf8b3f8c76179bb936754bbbf510999_cgraph_map" alt=""></center>
<map name="group__geometry_g7cf8b3f8c76179bb936754bbbf510999_g7cf8b3f8c76179bb936754bbbf510999_cgraph_map">
<area href="graphics_8c_ff4bc17c602603d120756f52e18ebb96.html#ff4bc17c602603d120756f52e18ebb96" shape="rect" coords="259,5,349,32" alt="">
<area href="group__distance_gc837f0084791f42936ade857a0cce3af.html#gc837f0084791f42936ade857a0cce3af" shape="rect" coords="211,56,397,83" alt="">
<area href="graphics_8c_a4f2f5f853228f62323d3c4d81c34a13.html#a4f2f5f853228f62323d3c4d81c34a13" shape="rect" coords="265,107,343,133" alt="">
<area href="graphics_8c_e3919e2797a81eb7088a6b6f6b33bea7.html#e3919e2797a81eb7088a6b6f6b33bea7" shape="rect" coords="264,157,344,184" alt="">
<area href="graphics_8c_9a7e11a2a03b0db3ab57985098c3f8fe.html#9a7e11a2a03b0db3ab57985098c3f8fe" shape="rect" coords="264,208,344,235" alt="">
<area href="group__geometry_ga27fbafb04a36a60af7bd5cafbdfd412.html#ga27fbafb04a36a60af7bd5cafbdfd412" shape="rect" coords="263,259,345,285" alt="">
<area href="group__geometry_g68d4dad9b8e742b0d63affc853f80391.html#g68d4dad9b8e742b0d63affc853f80391" shape="rect" coords="260,309,348,336" alt="">
<area href="group__geometry_gcfbc9e7772d80361768bc0b65cebbca1.html#gcfbc9e7772d80361768bc0b65cebbca1" shape="rect" coords="253,360,355,387" alt="">
<area href="group__geometry_g137ef6f552a0a04c5ae0493690088f3f.html#g137ef6f552a0a04c5ae0493690088f3f" shape="rect" coords="245,411,363,437" alt="">
<area href="group__geometry_g2be6101a257ea8896e61e93d14b22b89.html#g2be6101a257ea8896e61e93d14b22b89" shape="rect" coords="232,461,376,488" alt="">
<area href="group__geometry_g35a6dd45f6d0cbed26ef8a69ed34a2e9.html#g35a6dd45f6d0cbed26ef8a69ed34a2e9" shape="rect" coords="445,563,592,589" alt="">
<area href="group__geometry_g139317720b027c782db9424256ba2c2d.html#g139317720b027c782db9424256ba2c2d" shape="rect" coords="219,563,389,589" alt="">
<area href="group__geometry_g496bae87588cb5710ced80f713da98ad.html#g496bae87588cb5710ced80f713da98ad" shape="rect" coords="223,613,385,640" alt="">
<area href="graphics_8c_7a2327678651d3939af5eec9503333e8.html#7a2327678651d3939af5eec9503333e8" shape="rect" coords="265,664,343,691" alt="">
</map>

<p>
Here is the caller graph for this function:<p><center><img src="group__geometry_g7cf8b3f8c76179bb936754bbbf510999_g7cf8b3f8c76179bb936754bbbf510999_icgraph.png" border="0" usemap="#group__geometry_g7cf8b3f8c76179bb936754bbbf510999_g7cf8b3f8c76179bb936754bbbf510999_icgraph_map" alt=""></center>
<map name="group__geometry_g7cf8b3f8c76179bb936754bbbf510999_g7cf8b3f8c76179bb936754bbbf510999_icgraph_map">
<area href="group__genetic_g1daa6a4e8af34b8b16a48fc2f3701f1c.html#g1daa6a4e8af34b8b16a48fc2f3701f1c" shape="rect" coords="219,5,323,32" alt="">
<area href="group__genetic_gf152bd4602acec2166cc4b91e8c8919a.html#gf152bd4602acec2166cc4b91e8c8919a" shape="rect" coords="211,56,331,83" alt="">
</map>

</div>
</div><p>
    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generado el Sun Oct 29 11:20:21 2006 para Genesting por&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
